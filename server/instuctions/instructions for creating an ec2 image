Creating a new ec2 instance

ssh: ssh -i "/c/Users/harry/.ssh/aws-ec2-01.pem" ubuntu@ec2-100-26-97-226.compute-1.amazonaws.com

1. from ubuntu: navigate to .ssh folder, then execute 'chmod 400 "aws-ec2-01.pem"'
2 ssh into server: ssh -i "/c/Users/harry/.ssh/aws-ec2-01.pem" ubuntu@ec2-100-26-97-226.compute-1.amazonaws.com
3. update apps: sudo apt update && sudo apt upgrade -y
4. install nvm:
curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.2/install.sh | bash
source ~/.bashrc
nvm install --lts
6. install pm2: npm install -g pm2
7. install nginx: sudo apt install -y nginx
8. install git: sudo apt install -y git
9. backup original nginx.conf: sudo cp /etc/nginx/nginx.conf /etc/nginx/nginx.conf.backup
10. modify nginx.conf:
	a. sudo nano /etc/nginx/nginx.conf
	b. replace default conf with that stored in app directory
	c. In 'server' section, change 'server_name' to the current public ip address.
11. restart nginx: sudo systemctl restart nginx
12. create an image (optional)
	a. stop pm2: pm2 stop all
	b. check its' status: pm2 status
	c. stop nginx: sudo systemctl stop nginx
	d. create image from ec2 console.
13. restart pm2: pm2 should not be managing any apps, so no restart is required.
14. restart nginx: sudo systemctl start nginx
